{"version":3,"sources":["parser.js","modules/Map.js","modules/Information.js","modules/Header.js","modules/PopUp.js","App.js","reportWebVitals.js","index.js"],"names":["objectToText","object","Object","keys","map","key","_text","serviceKey","apiKey","station_key","checkLatLngOut","item","_southWest","_northEast","lat","lng","MapEvent","props","useMap","apiState","costomEvent","mapEvents","getZoom","center","gpsLati","gpsLong","url","axios","get","then","response","data","request","JSON","parse","header","resultCode","items","body","newData","Array","isArray","forEach","index","push","setStation","console","log","catch","error","getBusStationInfo","getCenter","getBounds","useMapEvents","zoomend","setZoomLevel","moveend","dragend","CustomTooltip","useEffect","Tooltip","direction","opacity","permanent","interactive","className","selectID","nodeid","src","process","nodenm","Map","useState","setApiState","mapIcon","leaflet","icon","iconUrl","iconRetinaUrl","iconAnchor","popupAnchor","iconSize","tooltipClick","gpslati","gpslong","citycode","setSelectID","openModal","vworld_url","vworld_key","zoomLevel","BASE_ZOOM_LEVEL","MapContainer","position","zoom","scrollWheelZoom","TileLayer","maxZoom","maxNativeZoom","attribution","MapConsumer","mapState","setView","setMapState","station","length","Marker","eventHandlers","click","bind","Information","onClick","App","BusArravalInfo","array","routeno","arrprevstationcnt","arrtime","time","parseInt","PopUp","isOpen","close","arravalInfo","setPosition","isModalOpen","setIsModalOpen","setNodenm","setArravalInfo","_gpslati","_gpslong","_nodenm","_nodeid","_citycode","getBusArravalInfo","newArr","routeid","newInfo","Header","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.936d522c.chunk.js","sourcesContent":["function objectToText(object) {\n    Object.keys(object).map(function (key) {\n        object[key] = object[key]._text;\n    });\n    return object;\n}\nexport default objectToText;","import { React } from 'react';\nimport { MapContainer, TileLayer, Marker, MapConsumer, useMap, useMapEvents, Tooltip } from 'react-leaflet';\nimport { useState, useEffect } from \"react\";\nimport 'leaflet/dist/leaflet.css'\nimport axios from 'axios';\nimport leaflet from 'leaflet';\nimport apiKey from '../private/apiKey.json';\nimport objectToText from '../parser';\n\nconst serviceKey = apiKey.station_key; // 버스정류장 정보조회 Key\nconst BASE_ZOOM_LEVEL = 13;\n\n// 화면의 latlng 내에 있는지 체크\nfunction checkLatLngOut(item, _southWest, _northEast) {\n    if (item[\"gpslati\"] < _southWest.lat || item[\"gpslati\"] > _northEast.lat\n        || item[\"gpslong\"] < _southWest.lng || item[\"gpslong\"] > _northEast.lng)\n        return false;\n    return true;\n}\n\nfunction getBusStationInfo(props, apiState, center, _southWest, _northEast) {\n    var gpsLati = center[\"lat\"];\n    var gpsLong = center[\"lng\"];\n    var parameter = \"?serviceKey=\" + serviceKey + \"&gpsLati=\" + gpsLati + \"&gpsLong=\" + gpsLong;\n    var url = '/api/BusSttnInfoInqireService/getCrdntPrxmtSttnList' + parameter;\n    if (apiState) {\n        axios.get(url)\n            .then(function (response) {\n                var data = response.request.response;\n                data = JSON.parse(data).response;\n                if (data.header.resultCode._text == \"00\") {\n                    // api 조회 정상적으로 완료 했을 때 \n                    var items = data.body.items.item;\n                    var newData = [];\n                    if (items == null) {\n                        newData = [];\n                    } else if (Array.isArray(items)) {\n                        items.forEach(function (item, index, object) {\n                            item = objectToText(item);\n                            if (checkLatLngOut(item, _southWest, _northEast)) {\n                                newData.push(item);\n                            }\n                        });\n                    } else {\n                        items = objectToText(items);\n                        if (!checkLatLngOut(items, _southWest, _northEast)) {\n                            newData = [items];\n                        } else {\n                            newData = [];\n                        }\n                    }\n\n                    props.setStation(newData);\n                } else {\n                    console.log(data.header.resultCode);\n                }\n            })\n            .catch(function (error) {\n                console.log(error);\n            });\n    }\n}\nfunction MapEvent(props) {\n    const map = useMap();\n    // var state = true; // 초기화 시 한번만 실행하기 위한 state 변수\n    var apiState = props.apiState;\n    const costomEvent = (mapEvents) => {\n        if (mapEvents.getZoom() > BASE_ZOOM_LEVEL) {\n            getBusStationInfo(props, apiState, map.getCenter(), map.getBounds()._southWest, map.getBounds()._northEast);\n            apiState = true;\n        }\n    }\n    const mapEvents = useMapEvents({\n        // 지도 zoom 종료\n        zoomend: () => {\n            props.setZoomLevel(mapEvents.getZoom()); // 현재 지도의 center lat, lng 가져오기\n            costomEvent(mapEvents);\n        },\n        // 지도 움직임 종료\n        moveend: () => {\n            costomEvent(mapEvents);\n        },\n        // 스크롤로 이동할 때 false\n        dragend: () => {\n            apiState = true;\n        }\n    });\n    return (null)\n}\nfunction CustomTooltip(props) {\n    useEffect(() => {\n        return () => {\n            // props.setSelectID(-1);\n        };\n    }, []);\n    return (\n        <Tooltip direction=\"top\" opacity={1} permanent interactive>\n            <div className={props.selectID == props.nodeid ? \"select\" : \"\"}>\n                <div><img className=\"busIcon\" src={process.env.PUBLIC_URL + props.selectID == props.nodeid ? '/marker.png' : '/marker_white.png'} /></div>\n                <div>\n                    <span>{props.nodenm}</span>\n                    <span>{props.nodeid}</span>\n                </div>\n            </div>\n        </Tooltip>\n    )\n\n\n}\nfunction Map(props) {\n    var [apiState, setApiState] = useState(true);\n    const BASE_ZOOM_LEVEL = 13;\n\n    let mapIcon = leaflet.icon({\n        iconUrl: process.env.PUBLIC_URL + '/marker.png',\n        iconRetinaUrl: process.env.PUBLIC_URL + '/marker.png',\n        iconAnchor: [15, 15],\n        popupAnchor: [0, 0],\n        iconSize: [30, 30],\n    });\n\n    let tooltipClick = (gpslati, gpslong, nodenm, nodeid, citycode) => {\n        props.setSelectID(nodeid);\n        props.openModal(gpslati, gpslong, nodenm, nodeid, citycode);\n    }\n\n    let vworld_url = \"https://api.vworld.kr/req/wmts/1.0.0/\" + apiKey.vworld_key + \"/Base/{z}/{y}/{x}.png\"\n    return (\n        <div className=\"map-container\">\n\n            {props.zoomLevel < BASE_ZOOM_LEVEL + 1 ? <div className=\"alert-box\"><h5>조금 더 가까이 이동해주세요</h5></div> : <div></div>}\n\n            <MapContainer center={props.position} zoom={props.zoomLevel} scrollWheelZoom={true}>\n                <TileLayer maxZoom={22} maxNativeZoom={18} zoom={props.zoomLevel}\n                    attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n                    url={vworld_url}\n                />\n                <MapEvent apiState={apiState} zoomLevel={props.zoomLevel} setZoomLevel={props.setZoomLevel} setStation={props.setStation} />\n                <MapConsumer>\n                    {(map) => {\n                        if (props.mapState) { // Marker 위치, zoomLevel 19로 지도 업데이트\n                            map.setView(props.position, props.zoomLevel);\n                            setApiState(false); // Marker 클릭 center 설정 시에는 api 호출 안함\n                            props.setMapState(false);\n                        }\n                        return null\n                    }}\n                </MapConsumer>\n                {props.station.length > 0 &&\n                    props.station.map(({ gpslati, gpslong, nodenm, nodeid, citycode }, index) => {\n                        return (\n                            <Marker position={[gpslati + \"\", gpslong + \"\"]} icon={mapIcon} permanent\n                                eventHandlers={{ click: tooltipClick.bind(this, gpslati, gpslong, nodenm, nodeid, citycode) }}>\n                                <CustomTooltip gpslati={gpslati} gpslong={gpslong} nodenm={nodenm} nodeid={nodeid}\n                                    citycode={citycode} setSelectID={props.setSelectID} selectID={props.selectID} />\n                            </Marker>\n                        )\n                    })}\n            </MapContainer>\n        </div >\n    )\n}\n\n\nexport default Map;\n","\nimport React from 'react';\n\nfunction Information(props) {\n    return (\n        <div className=\"infomation-container\">\n            <div className=\"infomation-table\">\n                {props.station.length > 0 &&\n                    props.station.map(({ gpslati, gpslong, nodenm, nodeid, citycode }) => {\n                        return (\n                            <div onClick={() => props.openModal(gpslati, gpslong, nodenm, nodeid, citycode)}>\n                                <div className='info'>\n                                    <img src={process.env.PUBLIC_URL + '/marker.png'} />\n                                    <h5>{nodenm}({nodeid})</h5>\n                                </div>\n                            </div>\n                        )\n                    })\n                }\n            </div>\n        </div >\n    )\n}\n\nexport default Information;","import '../App.css';\nfunction App() {\n    return (\n        <header className=\"App-header\">\n            <div className=\"logo\">Bus Information</div>\n        </header>\n    );\n}\n\nexport default App;","\nimport React, { Component, useState } from 'react';\n\nfunction BusArravalInfo(props) {\n    return (\n        props.array.map(({ routeno, arrprevstationcnt, arrtime }) => {\n            const time = parseInt(parseInt(arrtime) / 60);\n            return (\n                <div>\n                    <span>{time < 3 ? (\"잠시 후 도착\") : (`${time}분 후`)}</span>\n                    <span>{arrprevstationcnt} 정거장 전</span>\n                </div>\n\n            )\n        }\n        )\n    )\n}\nfunction PopUp(props) {\n    const { isOpen, close } = props;\n    return (\n        <>{\n            isOpen ? (\n                <div className=\"modal-container \">\n                    <div className=\"modal\">\n                        <button onClick={close}>X</button>\n                        <div className=\"info-content\">\n                            <h3 className=\"station-name\"><font>{props.nodenm}</font></h3>\n                            <div className=\"arrival-info-container\">\n                                {Object.keys(props.arravalInfo).length > 0 &&\n                                    Object.keys(props.arravalInfo).map((key, index) => {\n                                        return (\n                                            <div className=\"arrival-bus-info\">\n                                                <span className=\"route-number\">{props.arravalInfo[key][0]['routeno']}번</span>\n                                                <span className=\"arrival-bus-container\">\n                                                    <BusArravalInfo array={props.arravalInfo[key]} ></BusArravalInfo>\n                                                </span>\n                                            </div>\n                                        )\n                                    })\n                                }\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            ) : null\n        }\n        </>\n    )\n}\n\nexport default PopUp;","import React, { Component, useState } from 'react';\nimport './App.css';\nimport Map from './modules/Map';\nimport Information from './modules/Information';\nimport Header from './modules/Header';\nimport PopUp from './modules/PopUp';\nimport apiKey from './private/apiKey.json';\nimport axios from 'axios';\nimport objectToText from './parser';\n\nfunction App(props) {\n  const [zoomLevel, setZoomLevel] = useState(16); // initial zoom level provided for MapContainer\n  const [position, setPosition] = useState([36.37412735693837, 127.36563659840922]);\n  const [station, setStation] = useState([]);\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [nodenm, setNodenm] = useState(null);\n  const [arravalInfo, setArravalInfo] = useState({});\n  const [selectID, setSelectID] = useState(-1);\n\n  var [mapState, setMapState] = useState(false); // 지도 업데이트 제어변수 \n\n  const openModal = (_gpslati, _gpslong, _nodenm, _nodeid, _citycode) => {\n    setPosition([_gpslati, _gpslong]);\n    getBusArravalInfo(_citycode, _nodeid);\n    setNodenm(_nodenm);\n    setSelectID(_nodeid);\n    setZoomLevel(18);\n    setMapState(true); // Marker 클릭 시 Map 업데이트 true\n  };\n\n  const getBusArravalInfo = (citycode, nodeid) => {\n    const serviceKey = apiKey.station_key; // 버스정류장 정보조회 Key\n    var parameter = \"?serviceKey=\" + serviceKey + \"&cityCode=\" + citycode + \"&nodeId=\" + nodeid;\n    var url = '/api/ArvlInfoInqireService/getSttnAcctoArvlPrearngeInfoList' + parameter;\n    axios.get(url)\n      .then(function (response) {\n        var data = response.request.response;\n        data = JSON.parse(data).response;\n        if (data.header.resultCode._text == \"00\") {\n          // api 조회 정상적으로 완료 했을 때 \n          var items = data.body.items;\n          var newArr = {};\n          if (items['item'] != null) {\n            items = items.item;\n            // 배열이며, 길이가 0이 아닐 때\n            if (items.length != 0 && Array.isArray(items)) {\n              items.forEach(item => {\n                item = objectToText(item);\n              });\n\n              items.map(({ routeno, routeid, arrtime, arrprevstationcnt }) => {\n                var newInfo = {};\n                newInfo['routeno'] = routeno;\n                newInfo['arrtime'] = arrtime;\n                newInfo['arrprevstationcnt'] = arrprevstationcnt;\n\n                if (newArr[routeid] == null) {\n                  newArr[routeid] = []\n                }\n                newArr[routeid].push(newInfo);\n              })\n\n            } else if (typeof (items) === 'object') {\n              items = objectToText(items);\n\n              var newInfo = {};\n              var routeid = items['routeid'];\n              newInfo['routeno'] = items['routeno'];\n              newInfo['arrtime'] = items['arrtime'];\n              newInfo['arrprevstationcnt'] = items['arrprevstationcnt'];\n              if (newArr[routeid] == null) {\n                newArr[routeid] = []\n              }\n              newArr[routeid].push(newInfo);\n            } else {\n              console.log(items);\n            }\n          }\n          setArravalInfo(newArr);\n          setIsModalOpen(true);\n        } else {\n          console.log(data.header.resultCode)\n        }\n      })\n      .catch(function (error) {\n        console.log(error);\n      });\n  }\n\n  return (\n    <div className=\"App\">\n      <Header />\n      <div className=\"contents\">\n        <Map station={station} setStation={setStation} openModal={openModal}\n          position={position}\n          selectID={selectID} setSelectID={setSelectID}\n          zoomLevel={zoomLevel} setZoomLevel={setZoomLevel}\n          mapState={mapState} setMapState={setMapState} />\n        <Information station={station} openModal={openModal} />\n        <PopUp isOpen={isModalOpen} close={() => setIsModalOpen(false)}\n          nodenm={nodenm} arravalInfo={arravalInfo}\n        />\n      </div>\n    </div>\n  )\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}